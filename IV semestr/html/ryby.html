<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bez Ryby Ani Rusz</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="menu.css">
  <link rel="icon" type="image/jpeg" href="images/icon.png" sizes="any" class="favicon">
  <style>
    .favicon {
      border-radius: 50%;
    }
    .logo a {
      text-decoration: none;
      color: inherit;
    }
  </style>
</head>
<body style="cursor: url('worm.png') 8 8, auto;">
  <nav class="navbar">
    <div class="logo">
      <a href="index.html">
        <img src="images/icon.png" alt="Logo" style="width: 40px; height: 40px; vertical-align: middle; margin-right: 10px;">
        Bez Ryby Ani Rusz
      </a>
    </div>
    <ul class="nav-links">
      <li><a href="index.html">Strona Główna</a></li>
      <li><a href="ryby.html" class="active">Ryby</a></li>
      <li><a href="metody.html">Metody</a></li>
      <li><a href="lowiska.html">Łowiska</a></li>
      <li><a href="sklep.html">Sklep</a></li>
    </ul>
    <div class="icons">
      <img src="images/user.png" alt="Login" id="loginIcon" style="border-radius: 50%;">
      <a href="#" id="cartBtn" class="cart-link">
        <img src="images/shopping-cart.png" alt="Koszyk" class="cart-img">
        <span id="cart-count" class="cart-count">0</span>
      </a>
    </div>
    <div class="hamburger">
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
  </nav>

  <section class="fish-atlas" style="margin-top: 40px;">
    <h2>Atlas Polskich Ryb</h2>
    <div class="fish-grid">
      <div class="column predatory">
        <h3>Ryby Drapieżne</h3>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-szczupak-min.jpg" alt="SZCZUPAK" class="fish-image" data-fish-name="Szczupak pospolity">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-sandacz-min.jpg" alt="SANDACZ" class="fish-image" data-fish-name="Sandacz pospolity">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-okon-min.jpg" alt="OKONI" class="fish-image" data-fish-name="Okoń europejski">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-sum-min.jpg" alt="SUM" class="fish-image" data-fish-name="Sum europejski">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-bolen-min.jpg" alt="BOLEN" class="fish-image" data-fish-name="Boleń pospolity">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-klen-min.jpg" alt="KLEN" class="fish-image" data-fish-name="Kleń">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-dorsz-min.jpg" alt="DORSZ" class="fish-image" data-fish-name="Dorsz atlantycki">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-lipien-min.jpg" alt="LIPIEN" class="fish-image" data-fish-name="Lipień pospolity">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-pstrag-min.jpg" alt="PSTRAG" class="fish-image" data-fish-name="Pstrąg potokowy">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-losos-min.jpg" alt="LOSOS" class="fish-image" data-fish-name="Łosoś atlantycki">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-brzana-min.jpg" alt="BRZANA" class="fish-image" data-fish-name="Brzana pospolita">
        </div>
        <div class="fish-item">
          <img src="images/fish/predatory/ryby-kafle-jaz-min.jpg" alt="JAZ" class="fish-image" data-fish-name="Jaź">
        </div>
      </div>
      <div class="column white">
        <h3>Ryby Białe</h3>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-karp-min.jpg" alt="KARP" class="fish-image" data-fish-name="Karp">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-leszcz-min.jpg" alt="LESZCZ" class="fish-image" data-fish-name="Leszcz">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-karas-min.jpg" alt="KARAS" class="fish-image" data-fish-name="Karaś pospolity">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-amur-min.jpg" alt="AMUR" class="fish-image" data-fish-name="Amur biały">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-ploc-min.jpg" alt="PLOC" class="fish-image" data-fish-name="Płoć">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-krap-min.jpg" alt="KRAP" class="fish-image" data-fish-name="Krąp">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-lin-min.jpg" alt="LIN" class="fish-image" data-fish-name="Lin">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-tolpyga-min.jpg" alt="TOLPYGA" class="fish-image" data-fish-name="Tołpyga biała">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-klen-min.jpg" alt="KLEN" class="fish-image" data-fish-name="Kleń">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-brzana-min.jpg" alt="BRZANA" class="fish-image" data-fish-name="Brzana pospolita">
        </div>
        <div class="fish-item">
          <img src="images/fish/white/ryby-kafle-jaz-min.jpg" alt="JAZ" class="fish-image" data-fish-name="Jaź">
        </div>
      </div>
    </div>
  </section>

  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close">×</span>
      <div class="modal-header">Logowanie</div>
      <div class="modal-body">
        <input type="text" placeholder="Nazwa użytkownika" required>
        <input type="password" placeholder="Hasło" required>
      </div>
      <div class="modal-footer">
        <button class="login-btn" onclick="signIn()">Zaloguj się</button>
        <button class="register-btn">Zarejestruj się</button>
      </div>
      <span class="forgot-password"><a href="#">Nie pamiętasz hasła?</a></span>
    </div>
  </div>

  <div id="registerModal" class="modal">
    <div class="modal-content">
      <span class="close">×</span>
      <div class="modal-header">Rejestracja</div>
      <div class="modal-body">
        <input type="text" placeholder="Nazwa użytkownika" required>
        <input type="email" placeholder="Email" required>
        <input type="password" placeholder="Hasło" required>
        <input type="password" placeholder="Powtórz hasło" required>
      </div>
      <div class="modal-footer">
        <button class="cancel-btn">Anuluj</button>
        <button class="register-btn" onclick="register()">Zarejestruj się</button>
      </div>
    </div>
  </div>

  <div id="cartModal" class="modal">
    <div class="cart-modal-content">
      <span class="close">×</span>
      <h2>Koszyk</h2>
      <ul id="cartItems"></ul>
      <div class="cart-summary"></div>
      <button id="checkoutBtn">Do kasy</button>
    </div>
  </div>

  <div id="fishInfoModal" class="modal">
    <div class="modal-content fish-info-modal-content">
      <span class="close">×</span>
      <div class="modal-header" id="fishInfoModalHeader"></div>
      <div class="modal-body" id="fishInfoModalBody"></div>
    </div>
  </div>

  <footer class="footer" style="position: relative;">
    <p>Bez Ryby Ani Rusz - projekt zaliczeniowy z Projektowanie Interfejsów Użytkownika</p>
    <p>Dane o rybach pochodzą z Wikipedii i są dostępne na licencji CC BY-SA.</p>
    <div class="social-media">
      <a href="https://www.google.com" target="_blank"><img src="images/google.png" alt="Google"></a>
      <a href="https://www.facebook.com" target="_blank"><img src="images/facebook.png" alt="Facebook"></a>
      <a href="https://www.instagram.com" target="_blank"><img src="images/instagram.png" alt="Instagram"></a>
    </div>
    <p>© 2025 Bez Ryby Ani Rusz. Wszystkie prawa zastrzeżone.</p>
  </footer>

  <img id="fish" src="images/fish.png" alt="Rybka" />

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const fishImages = document.querySelectorAll('.fish-image');
      const fishInfoModal = document.getElementById('fishInfoModal');
      const fishInfoModalHeader = document.getElementById('fishInfoModalHeader');
      const fishInfoModalBody = document.getElementById('fishInfoModalBody');
      const closeFishInfoModal = fishInfoModal.querySelector('.close');

      // Add click event listeners to fish images
      fishImages.forEach(image => {
        const fishName = image.getAttribute('data-fish-name');
        image.addEventListener('click', async () => {
          const description = await fetchFishData(fishName);
          fishInfoModalHeader.textContent = fishName;
          fishInfoModalBody.innerHTML = description;
          fishInfoModal.style.display = 'block';
        });
      });

      // Close the modal when the close button is clicked
      closeFishInfoModal.addEventListener('click', () => {
        fishInfoModal.style.display = 'none';
      });

      // Close the modal when clicking outside of it
      window.addEventListener('click', (event) => {
        if (event.target === fishInfoModal) {
          fishInfoModal.style.display = 'none';
        }
      });

      // Function to fetch fish data from Wikipedia
      async function fetchFishData(fishName) {
        try {
          const response = await fetch(
            `https://pl.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${encodeURIComponent(fishName)}&format=json&origin=*`
          );
          const data = await response.json();
          const page = Object.values(data.query.pages)[0];
          return page.extract || "Brak opisu dla tej ryby w Wikipedii.";
        } catch (error) {
          console.error(`Błąd podczas pobierania danych dla ${fishName}:`, error);
          return "Wystąpił błąd podczas ładowania opisu.";
        }
      }
    });
  </script>
</body>
</html>